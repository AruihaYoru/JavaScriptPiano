# JavaScriptPiano
ええと、Vanilla JSで動くきわめて高度なピアノシュミレーターです。

## やったこと
- 打鍵音、ペダル、ハンマーすべてを再現する。
- 連続する２つ音の高さ差を元にレイテンシを加える
- 生成アルゴリズムの細かなところに1/fゆらぎを多用
- とてつもなく微妙なほどの音量差をつくる（44から離れるほど。中央が一番大きく、っていうものになるはずだから）
- 生楽器の不確定さをすべてピンクノイズで作る。
- 音の空白期間からの復帰の際、最初の鍵に課せられるノイズは少し大きく。
- すべての音のベロシティ、長さ、開始時間にレイテンシ（ノイズ）を加す
- 同時に音を鳴らす際、レイテンシは最も中心に近い鍵を最高として更に大きく。
- 共鳴をきちんと作成する（中央付近は共鳴しやすいっていう）
- 「手」エージェントを2個生成する。（一つの手が鳴らせる音は最大5音で、最高音と最低音の差は2オクターブ）
- 読み込み速度の改善のため、必要なものだけを読み込む。
- *さらにあと数個....*
*注：レイテンシの意味を少しずらしています。遅延を意味する言葉ですが、ここではプラスマイナスどちらかにブレさせるノイズとします。*<br>
また、ノイズことレイテンシはそこまで強くありません。（大きすぎると、不均一ですから。）

## 使いかた
```
git clone https://github.com/AruihaYoru/JavaScriptPiano.git
```
でクローンして、main.jsに楽譜データを貼り付けます。ドキュメントも、main.jsに直書きしています。

## ライセンス
本プロジェクトの音響生成ロジックおよびエージェント・シミュレーションは或いは夜に帰属します。音源サンプルはAlexander Holm氏による[Salamander Grand Piano](https://github.com/sfzinstruments/SalamanderGrandPiano/tree/master)  (CC BY 3.0)を使用しています。